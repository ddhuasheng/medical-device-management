import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import{r as d,o as C,b as o,d as M,e as E,f as e,w as t,g as p,k as _}from"./index-7b3de2f1.js";const B={class:"role-management-container"},F={__name:"RoleManagement",setup(K){const u=d(null),m=d(null),a=d({code:g(),name:"",status:1,permissions:[]}),f={name:[{required:!0,message:"请输入角色名称",trigger:"blur"}]},v=d([{id:1,label:"系统管理",children:[{id:11,label:"用户管理"},{id:12,label:"角色管理"},{id:13,label:"菜单管理"},{id:14,label:"部门管理"}]},{id:2,label:"设备管理",children:[{id:21,label:"设备入库"},{id:22,label:"设备出库"}]}]),b={children:"children",label:"label"};function g(){return`ROLE-${new Date().getTime()}`}const y=async()=>{try{await u.value.validate();const r=m.value.getCheckedKeys();console.log("提交数据：",{...a.value,permissions:r}),ElMessage.success("提交成功")}catch{ElMessage.error("请完善表单信息")}},k=()=>{u.value.resetFields(),m.value.setCheckedKeys([])};return C(()=>{}),(r,l)=>{const c=o("el-input"),s=o("el-form-item"),V=o("el-switch"),x=o("el-tree"),i=o("el-button"),R=o("el-form"),h=o("el-card");return M(),E("div",B,[e(h,{class:"form-card"},{header:t(()=>l[3]||(l[3]=[p("div",{class:"card-header"},[p("span",null,"角色管理")],-1)])),default:t(()=>[e(R,{ref_key:"formRef",ref:u,model:a.value,"label-width":"120px",rules:f},{default:t(()=>[e(s,{label:"角色编码",prop:"code"},{default:t(()=>[e(c,{modelValue:a.value.code,"onUpdate:modelValue":l[0]||(l[0]=n=>a.value.code=n),placeholder:"自动生成",disabled:""},null,8,["modelValue"])]),_:1}),e(s,{label:"角色名称",prop:"name"},{default:t(()=>[e(c,{modelValue:a.value.name,"onUpdate:modelValue":l[1]||(l[1]=n=>a.value.name=n),placeholder:"请输入角色名称"},null,8,["modelValue"])]),_:1}),e(s,{label:"角色状态",prop:"status"},{default:t(()=>[e(V,{modelValue:a.value.status,"onUpdate:modelValue":l[2]||(l[2]=n=>a.value.status=n),"active-text":"启用","inactive-text":"停用","active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),e(s,{label:"权限分配",prop:"permissions"},{default:t(()=>[e(x,{ref_key:"treeRef",ref:m,data:v.value,"show-checkbox":"","node-key":"id",props:b,"default-expand-all":!0,"check-strictly":!0},null,8,["data"])]),_:1}),e(s,null,{default:t(()=>[e(i,{type:"primary",onClick:y},{default:t(()=>l[4]||(l[4]=[_("提交")])),_:1}),e(i,{onClick:k},{default:t(()=>l[5]||(l[5]=[_("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}},T=w(F,[["__scopeId","data-v-f35505bd"]]);export{T as default};
