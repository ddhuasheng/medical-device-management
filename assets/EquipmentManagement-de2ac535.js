import{_ as U}from"./plugin-vueexport-helper-c27b6911.js";import{b as r,d,e as _,f as e,w as o,k as f,F as D,h as V,i as y}from"./index-8e7c3932.js";const k={data(){return{formData:{name:"",model:"",sn:"",warrantyDate:"",warehouse:"",contract:"",quantity:1,location:"",warrantyFile:null},warehouseOptions:[{label:"主仓库",value:"1"},{label:"备用仓库",value:"2"}],contractOptions:[],locationRules:[{pattern:/^[A-Z]\d+-\d+$/,message:"格式示例：A01-01"}]}},methods:{handleImageUpload(u){this.formData.image=u.raw},handleQrCodeUpload(u){this.formData.qrCode=u.raw},handleWarrantyUpload(u){this.formData.warrantyFile=u.raw},loadContracts(u){this.contractOptions=u?[{label:"CT2023-001",value:"1"},{label:"MRI2023-002",value:"2"}]:[]},submitForm(){this.$refs.form.validate(u=>{u&&(console.log("提交数据:",this.formData),this.$message.success("提交成功"))})},resetForm(){this.$refs.form.resetFields()}}},q={class:"app-container"};function F(u,l,x,O,t,m){const s=r("el-input"),n=r("el-form-item"),g=r("Plus"),w=r("el-icon"),i=r("el-upload"),p=r("el-button"),h=r("el-date-picker"),c=r("el-option"),b=r("el-select"),v=r("el-input-number"),C=r("el-form");return d(),_("div",q,[e(C,{ref:"form",model:t.formData,"label-width":"150px"},{default:o(()=>[e(n,{label:"设备名称",prop:"name",rules:[{required:!0,message:"请输入设备名称"}]},{default:o(()=>[e(s,{modelValue:t.formData.name,"onUpdate:modelValue":l[0]||(l[0]=a=>t.formData.name=a),placeholder:"请输入设备名称"},null,8,["modelValue"])]),_:1}),e(n,{label:"设备型号",prop:"model",rules:[{required:!0,message:"请输入设备型号"}]},{default:o(()=>[e(s,{modelValue:t.formData.model,"onUpdate:modelValue":l[1]||(l[1]=a=>t.formData.model=a),placeholder:"请输入设备型号"},null,8,["modelValue"])]),_:1}),e(n,{label:"序列号",prop:"sn",rules:[{required:!0,message:"请输入序列号"}]},{default:o(()=>[e(s,{modelValue:t.formData.sn,"onUpdate:modelValue":l[2]||(l[2]=a=>t.formData.sn=a),placeholder:"请输入设备序列号"},null,8,["modelValue"])]),_:1}),e(n,{label:"设备图片"},{default:o(()=>[e(i,{action:"#","list-type":"picture-card","auto-upload":!1,"on-change":m.handleImageUpload},{default:o(()=>[e(w,null,{default:o(()=>[e(g)]),_:1})]),_:1},8,["on-change"])]),_:1}),e(n,{label:"设备二维码"},{default:o(()=>[e(i,{action:"#",limit:1,"on-change":m.handleQrCodeUpload},{default:o(()=>[e(p,{type:"primary"},{default:o(()=>l[8]||(l[8]=[f("点击上传")])),_:1})]),_:1},8,["on-change"])]),_:1}),e(n,{label:"维保时间",prop:"warrantyDate"},{default:o(()=>[e(h,{modelValue:t.formData.warrantyDate,"onUpdate:modelValue":l[3]||(l[3]=a=>t.formData.warrantyDate=a),type:"date",placeholder:"选择维保到期日"},null,8,["modelValue"])]),_:1}),e(n,{label:"仓库名称",prop:"warehouse"},{default:o(()=>[e(b,{modelValue:t.formData.warehouse,"onUpdate:modelValue":l[4]||(l[4]=a=>t.formData.warehouse=a),placeholder:"请选择仓库",onChange:m.loadContracts},{default:o(()=>[(d(!0),_(D,null,V(t.warehouseOptions,a=>(d(),y(c,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),e(n,{label:"采购合同",prop:"contract"},{default:o(()=>[e(b,{modelValue:t.formData.contract,"onUpdate:modelValue":l[5]||(l[5]=a=>t.formData.contract=a),placeholder:"请选择合同",disabled:!t.formData.warehouse},{default:o(()=>[(d(!0),_(D,null,V(t.contractOptions,a=>(d(),y(c,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),e(n,{label:"数量",prop:"quantity"},{default:o(()=>[e(v,{modelValue:t.formData.quantity,"onUpdate:modelValue":l[6]||(l[6]=a=>t.formData.quantity=a),min:1},null,8,["modelValue"])]),_:1}),e(n,{label:"设备位置",prop:"location",rules:t.locationRules},{default:o(()=>[e(s,{modelValue:t.formData.location,"onUpdate:modelValue":l[7]||(l[7]=a=>t.formData.location=a),placeholder:"请输入位置（格式：A01-01）"},null,8,["modelValue"])]),_:1},8,["rules"]),e(n,{label:"维保证明"},{default:o(()=>[e(i,{action:"#",limit:1,"on-change":m.handleWarrantyUpload},{default:o(()=>[e(p,{type:"primary"},{default:o(()=>l[9]||(l[9]=[f("上传文件")])),_:1})]),_:1},8,["on-change"])]),_:1}),e(n,null,{default:o(()=>[e(p,{type:"primary",onClick:m.submitForm},{default:o(()=>l[10]||(l[10]=[f("提交")])),_:1},8,["onClick"]),e(p,{onClick:m.resetForm},{default:o(()=>l[11]||(l[11]=[f("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])])}const B=U(k,[["render",F],["__scopeId","data-v-aaff053e"]]);export{B as default};
