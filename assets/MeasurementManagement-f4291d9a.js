import{_ as T}from"./plugin-vueexport-helper-c27b6911.js";import{r as f,q as g,b as r,d as i,e as c,f as e,w as t,F as h,h as w,k as p,t as Y,l as B,E as b,i as D}from"./index-8e7c3932.js";const E={class:"page-container"},N={key:0,class:"ml-2"},U={__name:"MeasurementManagement",setup(H){const u=f(null),a=g({equipment:"",calibrationTime:"",result:"",certificate:null}),v=f([{id:1,name:"血压计"},{id:2,name:"心电图机"},{id:3,name:"生化分析仪"}]),V=g({equipment:[{required:!0,message:"请选择器材",trigger:"change"}],calibrationTime:[{required:!0,message:"请选择校准时间",trigger:"change"}],result:[{required:!0,message:"请选择结果",trigger:"change"}],certificate:[{required:!0,message:"请上传证明文件",trigger:"change"}]}),k=s=>{a.certificate=s.raw},q=()=>{u.value.validate(s=>{if(s)b.success("提交成功");else return b.error("请完善表单信息"),!1})},y=()=>{u.value.resetFields(),a.certificate=null};return(s,l)=>{const m=r("el-option"),_=r("el-select"),n=r("el-form-item"),M=r("el-date-picker"),d=r("el-button"),x=r("el-upload"),C=r("el-form"),F=r("el-card");return i(),c("div",E,[e(F,{class:"form-card"},{default:t(()=>[e(C,{model:a,rules:V,ref_key:"formRef",ref:u,"label-width":"120px"},{default:t(()=>[e(n,{label:"器材名称",prop:"equipment"},{default:t(()=>[e(_,{modelValue:a.equipment,"onUpdate:modelValue":l[0]||(l[0]=o=>a.equipment=o),placeholder:"请选择器材",filterable:"",clearable:""},{default:t(()=>[(i(!0),c(h,null,w(v.value,o=>(i(),D(m,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"校准时间",prop:"calibrationTime"},{default:t(()=>[e(M,{modelValue:a.calibrationTime,"onUpdate:modelValue":l[1]||(l[1]=o=>a.calibrationTime=o),type:"datetime",placeholder:"选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),e(n,{label:"校准结果",prop:"result"},{default:t(()=>[e(_,{modelValue:a.result,"onUpdate:modelValue":l[2]||(l[2]=o=>a.result=o),placeholder:"请选择结果"},{default:t(()=>[e(m,{label:"合格",value:"pass"}),e(m,{label:"不合格",value:"fail"})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"校准证明",prop:"certificate"},{default:t(()=>[e(x,{class:"upload-demo",action:"#","on-change":k,"auto-upload":!1,"show-file-list":!1},{default:t(()=>[e(d,{type:"primary"},{default:t(()=>l[3]||(l[3]=[p("点击上传")])),_:1}),a.certificate?(i(),c("span",N,Y(a.certificate.name),1)):B("",!0)]),_:1})]),_:1}),e(n,null,{default:t(()=>[e(d,{type:"primary",onClick:q},{default:t(()=>l[4]||(l[4]=[p("提交")])),_:1}),e(d,{onClick:y},{default:t(()=>l[5]||(l[5]=[p("重置")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}},I=T(U,[["__scopeId","data-v-94a5b81a"]]);export{I as default};
