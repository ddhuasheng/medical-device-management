import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import{r as p,q as N,b as o,v as S,d as x,e as j,g as V,f as t,w as l,x as H,i as I,k as r,t as y,B as O,E as v}from"./index-7b3de2f1.js";const R={class:"warehouse-management"},A={class:"operation-bar"},L={class:"dialog-footer"},z={__name:"WarehouseManagement",setup(G){const i=p([{id:1,code:"WH001",name:"主仓库",address:"北京市朝阳区xx街道xx号",status:!0},{id:2,code:"WH002",name:"备用仓库",address:"北京市海淀区xx街道xx号",status:!0}]),h=p(!1),u=p(!1),f=p(""),m=p(),s=N({id:null,code:"",name:"",address:"",status:!0}),k={code:[{required:!0,message:"请输入仓库编码",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],name:[{required:!0,message:"请输入仓库名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],address:[{required:!0,message:"请输入仓库地址",trigger:"blur"},{min:5,max:200,message:"长度在 5 到 200 个字符",trigger:"blur"}]},w=()=>{f.value="新增仓库",u.value=!0},C=n=>{f.value="编辑仓库",Object.assign(s,n),u.value=!0},B=n=>{const e=n.status?"停用":"启用";O.confirm(`确认要${e}该仓库吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{n.status=!n.status,v.success(`${e}成功`)}).catch(()=>{})},W=async()=>{m.value&&await m.value.validate(n=>{if(n){if(s.id){const e=i.value.findIndex(d=>d.id===s.id);e!==-1&&(i.value[e]={...s}),v.success("编辑成功")}else{const e={...s,id:i.value.length+1};i.value.push(e),v.success("新增成功")}u.value=!1,b()}})},b=()=>{m.value&&m.value.resetFields(),Object.assign(s,{id:null,code:"",name:"",address:"",status:!0})};return(n,e)=>{const d=o("el-button"),c=o("el-table-column"),E=o("el-tag"),M=o("el-table"),g=o("el-input"),_=o("el-form-item"),T=o("el-switch"),U=o("el-form"),$=o("el-dialog"),q=S("loading");return x(),j("div",R,[V("div",A,[t(d,{type:"primary",onClick:w},{default:l(()=>e[6]||(e[6]=[r("新增仓库")])),_:1})]),H((x(),I(M,{data:i.value,style:{width:"100%"}},{default:l(()=>[t(c,{prop:"code",label:"仓库编码",width:"120"}),t(c,{prop:"name",label:"仓库名称",width:"180"}),t(c,{prop:"address",label:"仓库地址"}),t(c,{prop:"status",label:"状态",width:"100"},{default:l(({row:a})=>[t(E,{type:a.status?"success":"danger"},{default:l(()=>[r(y(a.status?"启用":"停用"),1)]),_:2},1032,["type"])]),_:1}),t(c,{label:"操作",width:"200",fixed:"right"},{default:l(({row:a})=>[t(d,{type:"primary",link:"",onClick:D=>C(a)},{default:l(()=>e[7]||(e[7]=[r("编辑")])),_:2},1032,["onClick"]),t(d,{type:a.status?"danger":"success",link:"",onClick:D=>B(a)},{default:l(()=>[r(y(a.status?"停用":"启用"),1)]),_:2},1032,["type","onClick"])]),_:1})]),_:1},8,["data"])),[[q,h.value]]),t($,{title:f.value,modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=a=>u.value=a),width:"500px",onClose:b},{footer:l(()=>[V("span",L,[t(d,{onClick:e[4]||(e[4]=a=>u.value=!1)},{default:l(()=>e[8]||(e[8]=[r("取消")])),_:1}),t(d,{type:"primary",onClick:W},{default:l(()=>e[9]||(e[9]=[r("确定")])),_:1})])]),default:l(()=>[t(U,{ref_key:"formRef",ref:m,model:s,rules:k,"label-width":"100px"},{default:l(()=>[t(_,{label:"仓库编码",prop:"code"},{default:l(()=>[t(g,{modelValue:s.code,"onUpdate:modelValue":e[0]||(e[0]=a=>s.code=a),placeholder:"请输入仓库编码"},null,8,["modelValue"])]),_:1}),t(_,{label:"仓库名称",prop:"name"},{default:l(()=>[t(g,{modelValue:s.name,"onUpdate:modelValue":e[1]||(e[1]=a=>s.name=a),placeholder:"请输入仓库名称"},null,8,["modelValue"])]),_:1}),t(_,{label:"仓库地址",prop:"address"},{default:l(()=>[t(g,{modelValue:s.address,"onUpdate:modelValue":e[2]||(e[2]=a=>s.address=a),type:"textarea",placeholder:"请输入仓库地址"},null,8,["modelValue"])]),_:1}),t(_,{label:"状态",prop:"status"},{default:l(()=>[t(T,{modelValue:s.status,"onUpdate:modelValue":e[3]||(e[3]=a=>s.status=a),"active-value":!0,"inactive-value":!1,"active-text":"启用","inactive-text":"停用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}},P=F(z,[["__scopeId","data-v-72bece25"]]);export{P as default};
