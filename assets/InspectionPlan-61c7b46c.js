import{r as h,G as u,I as M,b as n,d,e as p,f as l,w as t,i as x,l as _,F as N,h as C,k as v,t as U}from"./index-8e7c3932.js";import{_ as Y}from"./plugin-vueexport-helper-c27b6911.js";const I={class:"app-container"},P={key:1},F={key:2},q={__name:"InspectionPlan",setup(B){const e=h({planName:"",planCode:`INSP-${u().format("YYYYMMDDHHmmss")}`,loopMode:"daily",dailyTime:u().format("HH:mm"),weeklyDays:[],weeklyTime:u().format("HH:mm"),monthlyDay:1,monthlyTime:u().format("HH:mm"),content:""}),c=[{label:"周一",value:1},{label:"周二",value:2},{label:"周三",value:3},{label:"周四",value:4},{label:"周五",value:5},{label:"周六",value:6},{label:"周日",value:0}],b={planName:[{required:!0,message:"请输入计划名称",trigger:"blur"}],loopMode:[{required:!0,message:"请选择循环模式",trigger:"change"}],dailyTime:[{required:!0,message:"请选择执行时间",trigger:"change"}]};M(()=>e.value.loopMode,r=>{r==="daily"?(e.value.weeklyDays=[],e.value.monthlyDay=1):r==="weekly"&&(e.value.monthlyDay=1)});const k=()=>{console.log("提交数据：",e.value)},V=()=>{e.value={planName:"",planCode:`INSP-${u().format("YYYYMMDDHHmmss")}`,loopMode:"daily",dailyTime:u().format("HH:mm"),weeklyDays:[],weeklyTime:u().format("HH:mm"),monthlyDay:1,monthlyTime:u().format("HH:mm"),content:""}};return(r,o)=>{const s=n("el-input"),m=n("el-form-item"),i=n("el-option"),H=n("el-select"),y=n("el-time-picker"),D=n("el-checkbox"),w=n("el-checkbox-group"),g=n("el-input-number"),f=n("el-button"),T=n("el-form");return d(),p("div",I,[l(T,{ref:"form",model:e.value,"label-width":"120px",rules:b},{default:t(()=>[l(m,{label:"计划名称",prop:"planName"},{default:t(()=>[l(s,{modelValue:e.value.planName,"onUpdate:modelValue":o[0]||(o[0]=a=>e.value.planName=a),placeholder:"请输入计划名称"},null,8,["modelValue"])]),_:1}),l(m,{label:"计划编号",prop:"planCode"},{default:t(()=>[l(s,{modelValue:e.value.planCode,"onUpdate:modelValue":o[1]||(o[1]=a=>e.value.planCode=a),placeholder:"系统自动生成",disabled:""},null,8,["modelValue"])]),_:1}),l(m,{label:"循环模式",prop:"loopMode"},{default:t(()=>[l(H,{modelValue:e.value.loopMode,"onUpdate:modelValue":o[2]||(o[2]=a=>e.value.loopMode=a),placeholder:"请选择循环模式"},{default:t(()=>[l(i,{label:"每天",value:"daily"}),l(i,{label:"每周",value:"weekly"}),l(i,{label:"每月",value:"monthly"})]),_:1},8,["modelValue"])]),_:1}),e.value.loopMode==="daily"?(d(),x(m,{key:0,label:"执行时间",prop:"dailyTime"},{default:t(()=>[l(y,{modelValue:e.value.dailyTime,"onUpdate:modelValue":o[3]||(o[3]=a=>e.value.dailyTime=a),"value-format":"HH:mm",placeholder:"选择每日执行时间"},null,8,["modelValue"])]),_:1})):_("",!0),e.value.loopMode==="weekly"?(d(),p("div",P,[l(m,{label:"选择星期",prop:"weeklyDays"},{default:t(()=>[l(w,{modelValue:e.value.weeklyDays,"onUpdate:modelValue":o[4]||(o[4]=a=>e.value.weeklyDays=a)},{default:t(()=>[(d(),p(N,null,C(c,a=>l(D,{key:a.value,label:a.value},{default:t(()=>[v(U(a.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1}),l(m,{label:"执行时间",prop:"weeklyTime"},{default:t(()=>[l(y,{modelValue:e.value.weeklyTime,"onUpdate:modelValue":o[5]||(o[5]=a=>e.value.weeklyTime=a),"value-format":"HH:mm",placeholder:"选择执行时间"},null,8,["modelValue"])]),_:1})])):_("",!0),e.value.loopMode==="monthly"?(d(),p("div",F,[l(m,{label:"每月日期",prop:"monthlyDay"},{default:t(()=>[l(g,{modelValue:e.value.monthlyDay,"onUpdate:modelValue":o[6]||(o[6]=a=>e.value.monthlyDay=a),min:1,max:31,placeholder:"输入日期"},null,8,["modelValue"])]),_:1}),l(m,{label:"执行时间",prop:"monthlyTime"},{default:t(()=>[l(y,{modelValue:e.value.monthlyTime,"onUpdate:modelValue":o[7]||(o[7]=a=>e.value.monthlyTime=a),"value-format":"HH:mm",placeholder:"选择执行时间"},null,8,["modelValue"])]),_:1})])):_("",!0),l(m,{label:"计划内容",prop:"content"},{default:t(()=>[l(s,{modelValue:e.value.content,"onUpdate:modelValue":o[8]||(o[8]=a=>e.value.content=a),type:"textarea",rows:4,placeholder:"请输入巡检内容"},null,8,["modelValue"])]),_:1}),l(m,null,{default:t(()=>[l(f,{type:"primary",onClick:k},{default:t(()=>o[9]||(o[9]=[v("提交")])),_:1}),l(f,{onClick:V},{default:t(()=>o[10]||(o[10]=[v("重置")])),_:1})]),_:1})]),_:1},8,["model"])])}}},j=Y(q,[["__scopeId","data-v-a492eba5"]]);export{j as default};
