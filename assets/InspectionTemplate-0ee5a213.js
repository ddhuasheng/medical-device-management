import{_ as g}from"./plugin-vueexport-helper-c27b6911.js";import{b as d,d as s,e as u,f as l,w as t,F as f,h as _,k as y,i as k}from"./index-8e7c3932.js";const v={data(){return{formData:{name:"",code:"",equipmentType:"",tasks:[]},equipmentTypeOptions:[],inspectionMethods:[{label:"人工检测",value:"manual"},{label:"自动检测",value:"auto"},{label:"混合检测",value:"mixed"}]}},methods:{generateTemplateCode(){if(!this.formData.code){const m=new Date().getTime().toString().slice(-6);this.formData.code=`TPL-${m}`}},searchEquipmentType(m){this.equipmentTypeOptions=m?[{id:"CT",name:"CT设备"},{id:"MRI",name:"核磁共振设备"}]:[]},handleEquipmentTypeChange(m){console.log("Selected equipment type:",m)},addTask(){this.formData.tasks.push({name:"",method:"",cycle:""})},removeTask(m){this.formData.tasks.splice(m,1)},submitForm(){console.log("模板数据：",JSON.stringify(this.formData)),this.$message.success("提交成功")},resetForm(){this.$refs.form.resetFields(),this.formData.tasks=[]}}},C={class:"app-container"};function D(m,o,q,x,a,r){const i=d("el-input"),p=d("el-form-item"),h=d("el-option"),T=d("el-select"),c=d("el-button"),b=d("el-form");return s(),u("div",C,[l(b,{ref:"form",model:a.formData,"label-width":"120px"},{default:t(()=>[l(p,{label:"模板名称",prop:"name"},{default:t(()=>[l(i,{modelValue:a.formData.name,"onUpdate:modelValue":o[0]||(o[0]=e=>a.formData.name=e),placeholder:"请输入模板名称"},null,8,["modelValue"])]),_:1}),l(p,{label:"模板编码",prop:"code"},{default:t(()=>[l(i,{modelValue:a.formData.code,"onUpdate:modelValue":o[1]||(o[1]=e=>a.formData.code=e),placeholder:"自动生成",disabled:"",onFocus:r.generateTemplateCode},null,8,["modelValue","onFocus"])]),_:1}),l(p,{label:"设备类型",prop:"equipmentType"},{default:t(()=>[l(T,{modelValue:a.formData.equipmentType,"onUpdate:modelValue":o[2]||(o[2]=e=>a.formData.equipmentType=e),filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择设备类型","remote-method":r.searchEquipmentType,onChange:r.handleEquipmentTypeChange},{default:t(()=>[(s(!0),u(f,null,_(a.equipmentTypeOptions,e=>(s(),k(h,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","remote-method","onChange"])]),_:1}),l(p,{label:"任务模板",prop:"tasks"},{default:t(()=>[(s(!0),u(f,null,_(a.formData.tasks,(e,V)=>(s(),u("div",{key:V,class:"task-item"},[l(i,{modelValue:e.name,"onUpdate:modelValue":n=>e.name=n,placeholder:"任务名称",style:{width:"200px","margin-right":"10px"}},null,8,["modelValue","onUpdate:modelValue"]),l(T,{modelValue:e.method,"onUpdate:modelValue":n=>e.method=n,placeholder:"检测方式",style:{width:"150px","margin-right":"10px"}},{default:t(()=>[(s(!0),u(f,null,_(a.inspectionMethods,n=>(s(),k(h,{key:n.value,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(i,{modelValue:e.cycle,"onUpdate:modelValue":n=>e.cycle=n,placeholder:"检测周期（天）",style:{width:"150px"},type:"number"},null,8,["modelValue","onUpdate:modelValue"]),l(c,{type:"danger",icon:"el-icon-delete",circle:"",onClick:n=>r.removeTask(V)},null,8,["onClick"])]))),128)),l(c,{type:"primary",icon:"el-icon-plus",onClick:r.addTask},{default:t(()=>o[3]||(o[3]=[y("添加任务")])),_:1},8,["onClick"])]),_:1}),l(p,null,{default:t(()=>[l(c,{type:"primary",onClick:r.submitForm},{default:t(()=>o[4]||(o[4]=[y("提交")])),_:1},8,["onClick"]),l(c,{onClick:r.resetForm},{default:t(()=>o[5]||(o[5]=[y("重置")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])])}const w=g(v,[["render",D],["__scopeId","data-v-860492d7"]]);export{w as default};
