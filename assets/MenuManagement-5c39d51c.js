import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";import{r as f,q as C,b as n,d as r,e as w,f as l,w as a,g as H,k as d,t as J,i as c,m as K,l as b,F as Q,h as W,E as U}from"./index-7b3de2f1.js";const X={class:"container"},Y={class:"header"},ee={__name:"MenuManagement",setup(te){const g=f([{id:1,name:"系统管理",type:"directory",path:"/system",icon:"Setting",status:"1"}]),i=f(!1),v=f(""),V=f(null),o=C({id:null,type:"directory",name:"",permission:"",parentId:null,path:"",icon:"",status:"1"}),k=[{value:"directory",label:"目录"},{value:"menu",label:"菜单"},{value:"button",label:"按钮"}],h={directory:"success",menu:"primary",button:"warning"},M=f([{value:0,label:"根目录",children:g.value}]),B={checkStrictly:!0,label:"name",value:"id",emitPath:!1},E=C({name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],type:[{required:!0,message:"请选择菜单类型",trigger:"change"}],path:[{required:!0,message:"请输入路由路径",trigger:"blur"},{pattern:/^[a-zA-Z\-]+$/,message:"路径只能包含字母和横线",trigger:"blur"}],permission:[{required:!0,message:"请输入权限标识",trigger:"blur"},{pattern:/^[a-zA-Z:]+$/,message:"权限标识格式不正确",trigger:"blur"}]}),T=s=>{s==="button"&&(o.path="",o.icon="")},q=()=>{v.value="新增菜单",Object.keys(o).forEach(s=>{o[s]=s==="status"?"1":s==="type"?"directory":""}),i.value=!0},I=async()=>{await V.value.validate(),U.success("操作成功"),i.value=!1},$=s=>{v.value="编辑菜单",Object.assign(o,s),i.value=!0},D=s=>{ElMessageBox.confirm("确认删除该菜单？","警告",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{U.success("删除成功")})};return(s,t)=>{const _=n("el-button"),u=n("el-table-column"),N=n("el-tag"),O=n("el-icon"),x=n("el-switch"),A=n("el-table"),F=n("el-option"),S=n("el-select"),p=n("el-form-item"),y=n("el-input"),j=n("el-cascader"),z=n("el-icon-select"),P=n("el-form"),R=n("el-dialog"),Z=n("el-card");return r(),w("div",X,[l(Z,{shadow:"never"},{default:a(()=>[H("div",Y,[l(_,{type:"primary",onClick:q},{default:a(()=>t[9]||(t[9]=[d("新增菜单")])),_:1})]),l(A,{data:g.value,border:"",style:{width:"100%"}},{default:a(()=>[l(u,{prop:"name",label:"菜单名称",width:"180"}),l(u,{prop:"type",label:"菜单类型",width:"120"},{default:a(({row:e})=>[l(N,{type:h[e.type]},{default:a(()=>{var m;return[d(J((m=k.find(L=>L.value===e.type))==null?void 0:m.label),1)]}),_:2},1032,["type"])]),_:1}),l(u,{prop:"permission",label:"按钮标识符"}),l(u,{prop:"parent",label:"父菜单"}),l(u,{prop:"path",label:"路由路径"}),l(u,{prop:"icon",label:"菜单图标",width:"100"},{default:a(({row:e})=>[e.icon?(r(),c(O,{key:0},{default:a(()=>[(r(),c(K(e.icon)))]),_:2},1024)):b("",!0)]),_:1}),l(u,{prop:"status",label:"状态",width:"100"},{default:a(({row:e})=>[l(x,{modelValue:e.status,"onUpdate:modelValue":m=>e.status=m,"active-value":"1","inactive-value":"0","active-text":"启用","inactive-text":"停用"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(u,{label:"操作",width:"180"},{default:a(({row:e})=>[l(_,{type:"text",onClick:m=>$(e)},{default:a(()=>t[10]||(t[10]=[d("编辑")])),_:2},1032,["onClick"]),l(_,{type:"text",onClick:m=>D(e)},{default:a(()=>t[11]||(t[11]=[d("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(R,{modelValue:i.value,"onUpdate:modelValue":t[8]||(t[8]=e=>i.value=e),title:v.value},{footer:a(()=>[l(_,{onClick:t[7]||(t[7]=e=>i.value=!1)},{default:a(()=>t[13]||(t[13]=[d("取消")])),_:1}),l(_,{type:"primary",onClick:I},{default:a(()=>t[14]||(t[14]=[d("确认")])),_:1})]),default:a(()=>[l(P,{ref_key:"formRef",ref:V,model:o,rules:E,"label-width":"100px",style:{"padding-right":"30px"}},{default:a(()=>[l(p,{label:"菜单类型",prop:"type"},{default:a(()=>[l(S,{modelValue:o.type,"onUpdate:modelValue":t[0]||(t[0]=e=>o.type=e),placeholder:"请选择",onChange:T},{default:a(()=>[(r(),w(Q,null,W(k,e=>l(F,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),o.type==="button"?(r(),c(p,{key:0,label:"按钮标识符",prop:"permission"},{default:a(()=>[l(y,{modelValue:o.permission,"onUpdate:modelValue":t[1]||(t[1]=e=>o.permission=e),placeholder:"请输入权限标识"},null,8,["modelValue"])]),_:1})):b("",!0),o.type!=="button"?(r(),c(p,{key:1,label:"菜单名称",prop:"name"},{default:a(()=>[l(y,{modelValue:o.name,"onUpdate:modelValue":t[2]||(t[2]=e=>o.name=e)},null,8,["modelValue"])]),_:1})):b("",!0),l(p,{label:"父菜单",prop:"parentId"},{default:a(()=>[l(j,{modelValue:o.parentId,"onUpdate:modelValue":t[3]||(t[3]=e=>o.parentId=e),options:M.value,props:B,clearable:""},null,8,["modelValue","options"])]),_:1}),o.type!=="button"?(r(),c(p,{key:2,label:"路由路径",prop:"path"},{default:a(()=>[l(y,{modelValue:o.path,"onUpdate:modelValue":t[4]||(t[4]=e=>o.path=e)},{prepend:a(()=>t[12]||(t[12]=[d("/")])),_:1},8,["modelValue"])]),_:1})):b("",!0),o.type!=="button"?(r(),c(p,{key:3,label:"菜单图标",prop:"icon"},{default:a(()=>[l(z,{modelValue:o.icon,"onUpdate:modelValue":t[5]||(t[5]=e=>o.icon=e)},null,8,["modelValue"])]),_:1})):b("",!0),l(p,{label:"状态",prop:"status"},{default:a(()=>[l(x,{modelValue:o.status,"onUpdate:modelValue":t[6]||(t[6]=e=>o.status=e),"active-value":"1","inactive-value":"0","active-text":"启用","inactive-text":"停用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])]),_:1})])}}},oe=G(ee,[["__scopeId","data-v-fda91463"]]);export{oe as default};
