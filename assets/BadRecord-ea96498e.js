import{_ as R}from"./plugin-vueexport-helper-c27b6911.js";import{r as _,q as f,b as a,d as i,e as g,f as l,w as t,F as C,h as M,g as Y,k as c,E as n,i as A}from"./index-8e7c3932.js";const H={class:"container"},L={__name:"BadRecord",setup(h){const s=_(null),r=f({deviceName:"",department:"",recorder:"",recordTime:new Date,description:"",attachments:[]}),v=_([{value:"cardiology",label:"心血管科"},{value:"orthopedics",label:"骨科"},{value:"pediatrics",label:"儿科"}]),b=f({deviceName:[{required:!0,message:"请输入设备名称",trigger:"blur"}],department:[{required:!0,message:"请选择科室",trigger:"change"}],recorder:[{required:!0,message:"请输入记录人",trigger:"blur"}],recordTime:[{required:!0,message:"请选择记录时间",trigger:"change"}],description:[{required:!0,message:"请输入问题描述",trigger:"blur"},{min:10,message:"描述不能少于10个字符",trigger:"blur"}]}),V=()=>{s.value.validate(p=>{if(p)n.success("提交成功");else return n.error("请完善表单信息"),!1})},x=()=>{s.value.resetFields()},y=()=>{n.success("文件上传成功")},k=()=>{n.error("文件上传失败，请重试")},B=()=>{n.warning("文件数量超出限制，最多上传5个文件")};return(p,e)=>{const u=a("el-input"),d=a("el-form-item"),N=a("el-option"),U=a("el-select"),q=a("el-date-picker"),w=a("DocumentAdd"),T=a("el-icon"),m=a("el-button"),D=a("el-upload"),E=a("el-form"),F=a("el-card");return i(),g("div",H,[l(F,{class:"form-card"},{default:t(()=>[l(E,{ref_key:"formRef",ref:s,model:r,rules:b,"label-width":"120px"},{default:t(()=>[l(d,{label:"设备名称",prop:"deviceName"},{default:t(()=>[l(u,{modelValue:r.deviceName,"onUpdate:modelValue":e[0]||(e[0]=o=>r.deviceName=o),placeholder:"请输入设备名称"},null,8,["modelValue"])]),_:1}),l(d,{label:"所在科室",prop:"department"},{default:t(()=>[l(U,{modelValue:r.department,"onUpdate:modelValue":e[1]||(e[1]=o=>r.department=o),placeholder:"请选择科室",filterable:"",clearable:""},{default:t(()=>[(i(!0),g(C,null,M(v.value,o=>(i(),A(N,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"记录人",prop:"recorder"},{default:t(()=>[l(u,{modelValue:r.recorder,"onUpdate:modelValue":e[2]||(e[2]=o=>r.recorder=o),placeholder:"请输入记录人姓名"},null,8,["modelValue"])]),_:1}),l(d,{label:"记录时间",prop:"recordTime"},{default:t(()=>[l(q,{modelValue:r.recordTime,"onUpdate:modelValue":e[3]||(e[3]=o=>r.recordTime=o),type:"datetime",placeholder:"选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),l(d,{label:"问题描述",prop:"description"},{default:t(()=>[l(u,{modelValue:r.description,"onUpdate:modelValue":e[4]||(e[4]=o=>r.description=o),type:"textarea",rows:4,placeholder:"请详细描述问题情况"},null,8,["modelValue"])]),_:1}),l(d,{label:"附件",prop:"attachments"},{default:t(()=>[l(D,{"file-list":r.attachments,"onUpdate:fileList":e[5]||(e[5]=o=>r.attachments=o),action:"#",multiple:"","on-success":y,"on-error":k,limit:5,"on-exceed":B},{tip:t(()=>e[7]||(e[7]=[Y("div",{class:"el-upload__tip"}," 支持扩展名：.pdf/.doc/.docx/.xls/.xlsx，单个文件不超过10MB ",-1)])),default:t(()=>[l(m,{type:"primary"},{default:t(()=>[l(T,{class:"el-icon--right"},{default:t(()=>[l(w)]),_:1}),e[6]||(e[6]=c(" 点击上传 "))]),_:1})]),_:1},8,["file-list"])]),_:1}),l(d,null,{default:t(()=>[l(m,{type:"primary",onClick:V},{default:t(()=>e[8]||(e[8]=[c("提交")])),_:1}),l(m,{onClick:x},{default:t(()=>e[9]||(e[9]=[c("重置")])),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}},j=R(L,[["__scopeId","data-v-18e44f6c"]]);export{j as default};
