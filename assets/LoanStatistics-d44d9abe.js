import{_ as y}from"./plugin-vueexport-helper-c27b6911.js";import{X as w,$ as C,a0 as b,a2 as L,a1 as $,a3 as k,a4 as B,a5 as D,Y as _,N as S}from"./installCanvasRenderer-9ad989bc.js";import{r as d,o as V,H as Y,b as r,d as z,e as E,f as o,w as s,g as l}from"./index-8e7c3932.js";const M={class:"loan-statistics-container"},N={class:"filter-wrapper"},O={__name:"LoanStatistics",setup(U){w([C,b,L,$,k,B,D]);const n=d([]),c=d(null),p=d(null);let e=null,a=null;const m=()=>{e=_(c.value),a=_(p.value),e.setOption({title:{text:"科室设备利用率排行",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value",axisLabel:{formatter:"{value}%"}},yAxis:{type:"category",data:["放射科","检验科","手术室","ICU","心内科","妇产科","儿科"]},series:[{name:"利用率",type:"bar",data:[85,78,92,88,75,80,68],itemStyle:{color:new S(0,0,1,0,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])}}]}),a.setOption({title:{text:"设备类型分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c}台 ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:"设备类型",type:"pie",radius:"50%",data:[{value:154,name:"影像设备"},{value:234,name:"检验设备"},{value:135,name:"治疗设备"},{value:98,name:"监护设备"},{value:65,name:"其他设备"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},v=async()=>{console.log("获取数据时间段:",n.value)},f=()=>{e==null||e.resize(),a==null||a.resize()};return V(()=>{m(),window.addEventListener("resize",f)}),Y(()=>{window.removeEventListener("resize",f),e==null||e.dispose(),a==null||a.dispose()}),(A,t)=>{const h=r("el-date-picker"),i=r("el-card"),u=r("el-col"),g=r("el-row");return z(),E("div",M,[o(i,{class:"filter-card"},{default:s(()=>[l("div",N,[t[1]||(t[1]=l("span",{class:"filter-label"},"统计时段：",-1)),o(h,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=x=>n.value=x),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD",onChange:v},null,8,["modelValue"])])]),_:1}),o(g,{gutter:20,class:"chart-row"},{default:s(()=>[o(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:s(()=>[o(i,{class:"chart-card"},{header:s(()=>t[2]||(t[2]=[l("div",{class:"card-header"},[l("span",null,"科室设备利用率排行")],-1)])),default:s(()=>[l("div",{class:"chart-container",ref_key:"utilizationChart",ref:c},null,512)]),_:1})]),_:1}),o(u,{xs:24,sm:24,md:12,lg:12,xl:12},{default:s(()=>[o(i,{class:"chart-card"},{header:s(()=>t[3]||(t[3]=[l("div",{class:"card-header"},[l("span",null,"设备类型分布")],-1)])),default:s(()=>[l("div",{class:"chart-container",ref_key:"typeDistributionChart",ref:p},null,512)]),_:1})]),_:1})]),_:1})])}}},H=y(O,[["__scopeId","data-v-814c0745"]]);export{H as default};
